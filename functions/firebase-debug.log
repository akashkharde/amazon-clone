[debug] [2022-10-21T04:56:44.879Z] ----------------------------------------------------------------------
[debug] [2022-10-21T04:56:44.881Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2022-10-21T04:56:44.882Z] CLI Version:   11.14.3
[debug] [2022-10-21T04:56:44.882Z] Platform:      win32
[debug] [2022-10-21T04:56:44.882Z] Node Version:  v16.17.1
[debug] [2022-10-21T04:56:44.931Z] Time:          Fri Oct 21 2022 10:26:44 GMT+0530 (India Standard Time)
[debug] [2022-10-21T04:56:44.932Z] ----------------------------------------------------------------------
[debug] 
[debug] [2022-10-21T04:56:44.987Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2022-10-21T04:56:45.181Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-10-21T04:56:45.182Z] > authorizing via signed-in user (akashkharde111@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2022-10-21T04:56:45.207Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2022-10-21T04:56:45.207Z] [hosting] Hosting Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2022-10-21T04:56:45.208Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2022-10-21T04:56:45.221Z] [hub] writing locator at C:\Users\ADMIN\AppData\Local\Temp\hub-clone-5f259.json
[debug] [2022-10-21T04:56:45.304Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2022-10-21T04:56:45.304Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2022-10-21T04:56:45.305Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[info] +  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2022-10-21T04:56:45.340Z] defaultcredentials: writing to file C:\Users\ADMIN\AppData\Roaming\firebase\akashkharde111_gmail_com_application_default_credentials.json
[debug] [2022-10-21T04:56:45.384Z] Setting GAC to C:\Users\ADMIN\AppData\Roaming\firebase\akashkharde111_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\ADMIN\\AppData\\Roaming\\firebase\\akashkharde111_gmail_com_application_default_credentials.json"}}
[debug] [2022-10-21T04:56:45.388Z] > refreshing access token with scopes: []
[debug] [2022-10-21T04:56:45.390Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2022-10-21T04:56:45.390Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2022-10-21T04:56:46.065Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2022-10-21T04:56:46.065Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2022-10-21T04:56:46.343Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259/adminSdkConfig [none]
[debug] [2022-10-21T04:56:46.353Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2022-10-21T04:56:46.354Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2022-10-21T04:56:47.451Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259/adminSdkConfig 200
[debug] [2022-10-21T04:56:47.451Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259/adminSdkConfig {"projectId":"clone-5f259","storageBucket":"clone-5f259.appspot.com"}
[debug] [2022-10-21T04:56:47.577Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-5f259/sites 
[debug] [2022-10-21T04:56:49.399Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-5f259/sites 200
[debug] [2022-10-21T04:56:49.399Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-5f259/sites {"sites":[{"name":"projects/clone-5f259/sites/clone-5f259","defaultUrl":"https://clone-5f259.web.app","appId":"1:213720918801:web:de0d1f98579a3b0598bab0","type":"DEFAULT_SITE"}]}
[debug] [2022-10-21T04:56:49.399Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259/webApps/1:213720918801:web:de0d1f98579a3b0598bab0/config [none]
[debug] [2022-10-21T04:56:51.793Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259/webApps/1:213720918801:web:de0d1f98579a3b0598bab0/config 200
[debug] [2022-10-21T04:56:51.794Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259/webApps/1:213720918801:web:de0d1f98579a3b0598bab0/config {"projectId":"clone-5f259","appId":"1:213720918801:web:de0d1f98579a3b0598bab0","storageBucket":"clone-5f259.appspot.com","apiKey":"AIzaSyBgKCJ8yrwiS_V2Sned9UAcItR87pWu39s","authDomain":"clone-5f259.firebaseapp.com","messagingSenderId":"213720918801","measurementId":"G-506ZE4ZEPR"}
[debug] [2022-10-21T04:56:51.966Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259 [none]
[debug] [2022-10-21T04:56:52.731Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259 200
[debug] [2022-10-21T04:56:52.731Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259 {"projectId":"clone-5f259","projectNumber":"213720918801","displayName":"amazon-clone","name":"projects/clone-5f259","resources":{"hostingSite":"clone-5f259"},"state":"ACTIVE","etag":"1_28eef18d-b108-4d2f-96bc-ca9f13909d85"}
[info] i  hosting[clone-5f259]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[clone-5f259]: Local server: http://127.0.0.1:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:5000\u001b[22m\u001b[24m"}}
[debug] [2022-10-21T04:56:52.906Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2022-10-21T04:56:52.906Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2022-10-21T04:56:52.906Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\ADMIN\\.cache\\firebase\\emulators\\ui-v1.11.1\\server\\server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\ADMIN\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.11.1\\\\server\\\\server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2022-10-21T04:56:53.211Z] Web / API server started at 127.0.0.1:4000
Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\nWeb / API server started at ::1:4000\n"}}
[info] i  functions: Watching "D:\clone\amazon-clone\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"D:\\clone\\amazon-clone\\functions\" for Cloud Functions..."}}
[debug] [2022-10-21T04:56:53.220Z] Validating nodejs source
[debug] [2022-10-21T04:56:58.266Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T04:56:58.266Z] Building nodejs source
[debug] [2022-10-21T04:56:58.266Z] Analyzing nodejs backend spec
[debug] [2022-10-21T04:56:58.269Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T04:57:03.626Z] Serving at port 9005

[debug] [2022-10-21T04:57:07.705Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T04:57:07.714Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/clone-5f259/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/clone-5f259/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ 127.0.0.1:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2022-10-21T04:57:48.583Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T04:57:49.589Z] Validating nodejs source
[debug] [2022-10-21T04:57:54.461Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T04:57:54.462Z] Building nodejs source
[debug] [2022-10-21T04:57:54.462Z] Analyzing nodejs backend spec
[debug] [2022-10-21T04:57:54.464Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T04:57:54.946Z] Serving at port 9005

[debug] [2022-10-21T04:57:55.537Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T04:57:55.547Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T04:58:13.373Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T04:58:13.373Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T04:58:13.374Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=247885.91100000002 --> us-central1-api
[debug] [2022-10-21T04:58:13.384Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T04:58:13.385Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=247885.91100000002, mapping to path=/payments/create?total=247885.91100000002 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=247885.91100000002, mapping to path=/payments/create?total=247885.91100000002"}}
[debug] [2022-10-21T04:58:13.398Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T04:58:13.399Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T04:58:13.403Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T04:58:13.404Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T04:58:13.404Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=247885.91100000002 --> us-central1-api
[debug] [2022-10-21T04:58:13.409Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T04:58:13.409Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=247885.91100000002, mapping to path=/payments/create?total=247885.91100000002 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=247885.91100000002, mapping to path=/payments/create?total=247885.91100000002"}}
[debug] [2022-10-21T04:58:13.411Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T04:58:13.412Z] [worker-us-central1-api-a5ebf0e2-7cf7-45ac-8e9a-82126825a7cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a5ebf0e2-7cf7-45ac-8e9a-82126825a7cd]: BUSY"}}
[debug] [2022-10-21T04:58:13.417Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T04:58:13.426Z] [worker-us-central1-api-a5ebf0e2-7cf7-45ac-8e9a-82126825a7cd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a5ebf0e2-7cf7-45ac-8e9a-82126825a7cd]: exited"}}
[debug] [2022-10-21T04:58:13.426Z] [worker-us-central1-api-a5ebf0e2-7cf7-45ac-8e9a-82126825a7cd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a5ebf0e2-7cf7-45ac-8e9a-82126825a7cd]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T04:58:43.428Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:02:23.202Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:02:23.202Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:02:23.203Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=247885.91100000002 --> us-central1-api
[debug] [2022-10-21T05:02:23.206Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:02:23.206Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=247885.91100000002, mapping to path=/payments/create?total=247885.91100000002 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=247885.91100000002, mapping to path=/payments/create?total=247885.91100000002"}}
[debug] [2022-10-21T05:02:23.206Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:02:23.212Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:02:23.213Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:02:24.992Z] [runtime-status] [7652] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7652] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:02:24.995Z] [runtime-status] [7652] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7652] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:02:24.996Z] [runtime-status] [7652] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7652] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T05:02:24.997Z] [runtime-status] [7652] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7652] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:02:25.261Z] [runtime-status] [7652] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7652] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T05:02:25.261Z] [runtime-status] [7652] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7652] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T05:02:25.263Z] [runtime-status] [7652] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7652] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:02:25.264Z] [runtime-status] [7652] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7652] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:02:25.268Z] [runtime-status] [7652] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7652] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:02:25.269Z] [runtime-status] [7652] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7652] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T05:02:25.499Z] [runtime-status] [7652] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7652] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T05:02:25.500Z] [runtime-status] [7652] Listening to port: \\?\pipe\fire_emu_129884a0e0761847 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7652] Listening to port: \\\\?\\pipe\\fire_emu_129884a0e0761847"}}
[debug] [2022-10-21T05:02:25.528Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:02:25.528Z] [worker-us-central1-api-55c43912-320d-46dc-87e4-a3db10f0cd3e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-55c43912-320d-46dc-87e4-a3db10f0cd3e]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  payment request recived!! for this amount  247885.91100000002 {"user":"payment request recived!! for this amount  247885.91100000002","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment request recived!! for this amount  247885.91100000002"}}
[info] >  D:\clone\amazon-clone\functions\index.js:53 {"user":"D:\\clone\\amazon-clone\\functions\\index.js:53\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m D:\\clone\\amazon-clone\\functions\\index.js:53\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:53:54 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:53:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:53:54\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:38:5 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:38:5\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:38:5\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2022-10-21T05:02:25.570Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:02:25.589Z] [worker-us-central1-api-55c43912-320d-46dc-87e4-a3db10f0cd3e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-55c43912-320d-46dc-87e4-a3db10f0cd3e]: exited"}}
[debug] [2022-10-21T05:02:25.589Z] [worker-us-central1-api-55c43912-320d-46dc-87e4-a3db10f0cd3e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-55c43912-320d-46dc-87e4-a3db10f0cd3e]: FINISHED"}}
[debug] [2022-10-21T05:03:17.461Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:03:17.462Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:03:17.462Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:03:17.468Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:03:17.469Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:03:17.469Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:03:17.481Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:03:17.481Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:03:17.487Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T05:03:17.487Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:03:17.488Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:03:17.493Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:03:17.493Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:03:17.493Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:03:17.494Z] [worker-us-central1-api-8fb15b31-1466-4a82-be08-1ded037b5908]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8fb15b31-1466-4a82-be08-1ded037b5908]: BUSY"}}
[debug] [2022-10-21T05:03:17.496Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:03:17.506Z] [worker-us-central1-api-8fb15b31-1466-4a82-be08-1ded037b5908]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8fb15b31-1466-4a82-be08-1ded037b5908]: exited"}}
[debug] [2022-10-21T05:03:17.506Z] [worker-us-central1-api-8fb15b31-1466-4a82-be08-1ded037b5908]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8fb15b31-1466-4a82-be08-1ded037b5908]: FINISHED"}}
[debug] [2022-10-21T05:03:47.517Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T05:03:47.518Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:03:47.518Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:03:47.521Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:03:47.521Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:03:47.521Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:03:47.526Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:03:47.527Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T05:03:47.528Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:03:49.687Z] [runtime-status] [6224] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6224] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:03:49.691Z] [runtime-status] [6224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:03:49.691Z] [runtime-status] [6224] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6224] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T05:03:49.693Z] [runtime-status] [6224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:03:50.031Z] [runtime-status] [6224] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6224] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T05:03:50.032Z] [runtime-status] [6224] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6224] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T05:03:50.034Z] [runtime-status] [6224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:03:50.036Z] [runtime-status] [6224] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6224] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:03:50.039Z] [runtime-status] [6224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:03:50.040Z] [runtime-status] [6224] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6224] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T05:03:50.305Z] [runtime-status] [6224] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6224] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T05:03:50.306Z] [runtime-status] [6224] Listening to port: \\?\pipe\fire_emu_0cb747e7467b59f5 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6224] Listening to port: \\\\?\\pipe\\fire_emu_0cb747e7467b59f5"}}
[debug] [2022-10-21T05:03:50.390Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:03:50.390Z] [worker-us-central1-api-07512c83-c9da-40b8-99f5-10b2d88fb727]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-07512c83-c9da-40b8-99f5-10b2d88fb727]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  payment request recived!! for this amount  0 {"user":"payment request recived!! for this amount  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment request recived!! for this amount  0"}}
[info] >  D:\clone\amazon-clone\functions\index.js:53 {"user":"D:\\clone\\amazon-clone\\functions\\index.js:53\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m D:\\clone\\amazon-clone\\functions\\index.js:53\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:53:54 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:53:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:53:54\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:38:5 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:38:5\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:38:5\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2022-10-21T05:03:50.421Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:03:50.446Z] [worker-us-central1-api-07512c83-c9da-40b8-99f5-10b2d88fb727]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-07512c83-c9da-40b8-99f5-10b2d88fb727]: exited"}}
[debug] [2022-10-21T05:03:50.446Z] [worker-us-central1-api-07512c83-c9da-40b8-99f5-10b2d88fb727]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-07512c83-c9da-40b8-99f5-10b2d88fb727]: FINISHED"}}
[debug] [2022-10-21T05:03:55.517Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T05:03:56.536Z] Validating nodejs source
[debug] [2022-10-21T05:04:00.485Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T05:04:00.485Z] Building nodejs source
[debug] [2022-10-21T05:04:00.485Z] Analyzing nodejs backend spec
[debug] [2022-10-21T05:04:00.485Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T05:04:00.881Z] Serving at port 9005

[debug] [2022-10-21T05:04:01.258Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T05:04:01.264Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T05:04:26.993Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:04:26.994Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:04:26.994Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:04:27.000Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:04:27.001Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:04:27.002Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:04:27.013Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:04:27.013Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:04:27.307Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T05:04:27.308Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:04:27.308Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:04:27.312Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:04:27.312Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:04:27.313Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:04:27.313Z] [worker-us-central1-api-c9181cbb-5f3a-4b32-a395-9ca62c978035]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c9181cbb-5f3a-4b32-a395-9ca62c978035]: BUSY"}}
[debug] [2022-10-21T05:04:27.315Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:04:27.337Z] [worker-us-central1-api-c9181cbb-5f3a-4b32-a395-9ca62c978035]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c9181cbb-5f3a-4b32-a395-9ca62c978035]: exited"}}
[debug] [2022-10-21T05:04:27.337Z] [worker-us-central1-api-c9181cbb-5f3a-4b32-a395-9ca62c978035]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c9181cbb-5f3a-4b32-a395-9ca62c978035]: FINISHED"}}
[debug] [2022-10-21T05:04:38.565Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T05:04:38.565Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:04:38.565Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=8042573.994000001 --> us-central1-api
[debug] [2022-10-21T05:04:38.570Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:04:38.571Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001"}}
[debug] [2022-10-21T05:04:38.571Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:04:38.580Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:04:38.580Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:04:38.584Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2022-10-21T05:04:38.584Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-10-21T05:04:38.584Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=8042573.994000001 --> us-central1-api
[debug] [2022-10-21T05:04:38.589Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:04:38.590Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001"}}
[debug] [2022-10-21T05:04:38.590Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:04:38.590Z] [worker-us-central1-api-afc39acc-23fb-4356-a8ff-6da8dc1551a0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afc39acc-23fb-4356-a8ff-6da8dc1551a0]: BUSY"}}
[debug] [2022-10-21T05:04:38.592Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:04:38.599Z] [worker-us-central1-api-afc39acc-23fb-4356-a8ff-6da8dc1551a0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afc39acc-23fb-4356-a8ff-6da8dc1551a0]: exited"}}
[debug] [2022-10-21T05:04:38.600Z] [worker-us-central1-api-afc39acc-23fb-4356-a8ff-6da8dc1551a0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afc39acc-23fb-4356-a8ff-6da8dc1551a0]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T05:04:57.040Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T05:05:08.650Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:06:28.528Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:06:28.529Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:06:28.529Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=8042573.994000001 --> us-central1-api
[debug] [2022-10-21T05:06:28.538Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:06:28.539Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001"}}
[debug] [2022-10-21T05:06:28.540Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:06:28.545Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:06:28.546Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:06:30.281Z] [runtime-status] [2872] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2872] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:06:30.284Z] [runtime-status] [2872] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2872] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:06:30.285Z] [runtime-status] [2872] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2872] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T05:06:30.286Z] [runtime-status] [2872] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2872] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:06:30.581Z] [runtime-status] [2872] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2872] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T05:06:30.582Z] [runtime-status] [2872] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2872] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T05:06:30.583Z] [runtime-status] [2872] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2872] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:06:30.585Z] [runtime-status] [2872] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2872] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:06:30.588Z] [runtime-status] [2872] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2872] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:06:30.588Z] [runtime-status] [2872] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2872] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T05:06:30.864Z] [runtime-status] [2872] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2872] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T05:06:30.865Z] [runtime-status] [2872] Listening to port: \\?\pipe\fire_emu_aa59a2ea7dcda417 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2872] Listening to port: \\\\?\\pipe\\fire_emu_aa59a2ea7dcda417"}}
[debug] [2022-10-21T05:06:30.886Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:06:30.886Z] [worker-us-central1-api-035cc78f-8ab7-481a-bc3c-7b1bd61606ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-035cc78f-8ab7-481a-bc3c-7b1bd61606ec]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  payment request recived!! for this amount  8042573.994000001 {"user":"payment request recived!! for this amount  8042573.994000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment request recived!! for this amount  8042573.994000001"}}
[info] >  D:\clone\amazon-clone\functions\index.js:53 {"user":"D:\\clone\\amazon-clone\\functions\\index.js:53\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m D:\\clone\\amazon-clone\\functions\\index.js:53\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:53:54 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:53:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:53:54\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:38:5 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:38:5\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:38:5\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2022-10-21T05:06:30.936Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:06:30.964Z] [worker-us-central1-api-035cc78f-8ab7-481a-bc3c-7b1bd61606ec]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-035cc78f-8ab7-481a-bc3c-7b1bd61606ec]: exited"}}
[debug] [2022-10-21T05:06:30.964Z] [worker-us-central1-api-035cc78f-8ab7-481a-bc3c-7b1bd61606ec]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-035cc78f-8ab7-481a-bc3c-7b1bd61606ec]: FINISHED"}}
[debug] [2022-10-21T05:07:18.003Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:07:18.003Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:07:18.004Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=8042573.994000001 --> us-central1-api
[debug] [2022-10-21T05:07:18.007Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:07:18.008Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001"}}
[debug] [2022-10-21T05:07:18.008Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:07:18.015Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:07:18.015Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:07:19.747Z] [runtime-status] [9412] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9412] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:07:19.750Z] [runtime-status] [9412] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9412] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:07:19.751Z] [runtime-status] [9412] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9412] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T05:07:19.753Z] [runtime-status] [9412] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9412] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:07:20.054Z] [runtime-status] [9412] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9412] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T05:07:20.054Z] [runtime-status] [9412] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9412] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T05:07:20.056Z] [runtime-status] [9412] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9412] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:07:20.058Z] [runtime-status] [9412] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9412] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:07:20.061Z] [runtime-status] [9412] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9412] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:07:20.062Z] [runtime-status] [9412] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9412] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T05:07:20.274Z] [runtime-status] [9412] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9412] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T05:07:20.274Z] [runtime-status] [9412] Listening to port: \\?\pipe\fire_emu_3a64d0b3d6bbb22c {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9412] Listening to port: \\\\?\\pipe\\fire_emu_3a64d0b3d6bbb22c"}}
[debug] [2022-10-21T05:07:20.345Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:07:20.345Z] [worker-us-central1-api-51d774bb-a088-4e56-b344-553213d7e876]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-51d774bb-a088-4e56-b344-553213d7e876]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  payment request recived!! for this amount  8042573.994000001 {"user":"payment request recived!! for this amount  8042573.994000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment request recived!! for this amount  8042573.994000001"}}
[info] >  D:\clone\amazon-clone\functions\index.js:53 {"user":"D:\\clone\\amazon-clone\\functions\\index.js:53\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m D:\\clone\\amazon-clone\\functions\\index.js:53\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:53:54 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:53:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:53:54\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:38:5 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:38:5\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:38:5\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2022-10-21T05:07:20.375Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:07:20.403Z] [worker-us-central1-api-51d774bb-a088-4e56-b344-553213d7e876]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-51d774bb-a088-4e56-b344-553213d7e876]: exited"}}
[debug] [2022-10-21T05:07:20.404Z] [worker-us-central1-api-51d774bb-a088-4e56-b344-553213d7e876]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-51d774bb-a088-4e56-b344-553213d7e876]: FINISHED"}}
[debug] [2022-10-21T05:10:48.677Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T05:10:49.684Z] Validating nodejs source
[debug] [2022-10-21T05:10:53.902Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T05:10:53.902Z] Building nodejs source
[debug] [2022-10-21T05:10:53.902Z] Analyzing nodejs backend spec
[debug] [2022-10-21T05:10:53.903Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T05:10:54.270Z] Serving at port 9005

[debug] [2022-10-21T05:10:54.546Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T05:10:54.718Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T05:10:54.726Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T05:10:55.557Z] Validating nodejs source
[debug] [2022-10-21T05:11:00.117Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T05:11:00.118Z] Building nodejs source
[debug] [2022-10-21T05:11:00.118Z] Analyzing nodejs backend spec
[debug] [2022-10-21T05:11:00.118Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T05:11:00.670Z] Serving at port 9005

[debug] [2022-10-21T05:11:01.186Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T05:11:01.201Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T05:11:01.558Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:11:01.559Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:11:01.559Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=8042573.994000001 --> us-central1-api
[debug] [2022-10-21T05:11:01.563Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:11:01.563Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001"}}
[debug] [2022-10-21T05:11:01.563Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:11:01.570Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:11:01.570Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:11:03.355Z] [runtime-status] [1416] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1416] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:11:03.359Z] [runtime-status] [1416] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1416] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:11:03.360Z] [runtime-status] [1416] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1416] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T05:11:03.362Z] [runtime-status] [1416] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1416] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:11:03.642Z] [runtime-status] [1416] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1416] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T05:11:03.642Z] [runtime-status] [1416] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1416] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T05:11:03.643Z] [runtime-status] [1416] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1416] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:11:03.645Z] [runtime-status] [1416] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1416] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:11:03.648Z] [runtime-status] [1416] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1416] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:11:03.649Z] [runtime-status] [1416] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1416] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T05:11:03.885Z] [runtime-status] [1416] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1416] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T05:11:03.885Z] [runtime-status] [1416] Listening to port: \\?\pipe\fire_emu_2ce63722da696608 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1416] Listening to port: \\\\?\\pipe\\fire_emu_2ce63722da696608"}}
[debug] [2022-10-21T05:11:03.932Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:11:03.933Z] [worker-us-central1-api-b9e761f4-4383-4ef7-9568-754895138ea7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b9e761f4-4383-4ef7-9568-754895138ea7]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  payment request recived!! for this amount  8042573.994000001 {"user":"payment request recived!! for this amount  8042573.994000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment request recived!! for this amount  8042573.994000001"}}
[info] >  D:\clone\amazon-clone\functions\index.js:53 {"user":"D:\\clone\\amazon-clone\\functions\\index.js:53\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m D:\\clone\\amazon-clone\\functions\\index.js:53\r"}}
[info] >      const PaymentIntent = await stripe.PaymentIntent.create({ {"user":"    const PaymentIntent = await stripe.PaymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const PaymentIntent = await stripe.PaymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:53:54 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:53:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:53:54\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:38:5 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:38:5\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:38:5\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2022-10-21T05:11:03.997Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:11:04.052Z] [worker-us-central1-api-b9e761f4-4383-4ef7-9568-754895138ea7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b9e761f4-4383-4ef7-9568-754895138ea7]: exited"}}
[debug] [2022-10-21T05:11:04.053Z] [worker-us-central1-api-b9e761f4-4383-4ef7-9568-754895138ea7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b9e761f4-4383-4ef7-9568-754895138ea7]: FINISHED"}}
[debug] [2022-10-21T05:11:10.551Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:11:10.552Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:11:10.552Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:11:10.558Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:11:10.558Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:11:10.558Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:11:10.568Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:11:10.569Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:11:10.572Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T05:11:10.572Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:11:10.572Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:11:10.577Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:11:10.578Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:11:10.578Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:11:10.578Z] [worker-us-central1-api-94d4bf27-214a-4e87-9c61-5191d71773a6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-94d4bf27-214a-4e87-9c61-5191d71773a6]: BUSY"}}
[debug] [2022-10-21T05:11:10.582Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:11:10.610Z] [worker-us-central1-api-94d4bf27-214a-4e87-9c61-5191d71773a6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-94d4bf27-214a-4e87-9c61-5191d71773a6]: exited"}}
[debug] [2022-10-21T05:11:10.610Z] [worker-us-central1-api-94d4bf27-214a-4e87-9c61-5191d71773a6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-94d4bf27-214a-4e87-9c61-5191d71773a6]: FINISHED"}}
[debug] [2022-10-21T05:11:26.836Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T05:11:26.837Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:11:26.837Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=8042573.994000001 --> us-central1-api
[debug] [2022-10-21T05:11:26.842Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:11:26.842Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001"}}
[debug] [2022-10-21T05:11:26.842Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:11:26.853Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:11:26.854Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:11:27.152Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2022-10-21T05:11:27.152Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-10-21T05:11:27.152Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=8042573.994000001 --> us-central1-api
[debug] [2022-10-21T05:11:27.156Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:11:27.156Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001"}}
[debug] [2022-10-21T05:11:27.157Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:11:27.157Z] [worker-us-central1-api-0d8017c0-37a0-44e2-ac89-51f9205b47cb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0d8017c0-37a0-44e2-ac89-51f9205b47cb]: BUSY"}}
[debug] [2022-10-21T05:11:27.158Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:11:27.170Z] [worker-us-central1-api-0d8017c0-37a0-44e2-ac89-51f9205b47cb]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0d8017c0-37a0-44e2-ac89-51f9205b47cb]: exited"}}
[debug] [2022-10-21T05:11:27.171Z] [worker-us-central1-api-0d8017c0-37a0-44e2-ac89-51f9205b47cb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0d8017c0-37a0-44e2-ac89-51f9205b47cb]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T05:11:40.676Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T05:11:56.861Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:13:03.527Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:13:03.527Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:13:03.528Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=8042573.994000001 --> us-central1-api
[debug] [2022-10-21T05:13:03.533Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:13:03.534Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001"}}
[debug] [2022-10-21T05:13:03.534Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:13:03.539Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:13:03.539Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:13:05.226Z] [runtime-status] [5240] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5240] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:13:05.232Z] [runtime-status] [5240] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5240] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:13:05.234Z] [runtime-status] [5240] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5240] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T05:13:05.236Z] [runtime-status] [5240] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5240] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:13:05.516Z] [runtime-status] [5240] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5240] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T05:13:05.517Z] [runtime-status] [5240] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5240] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T05:13:05.518Z] [runtime-status] [5240] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5240] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:13:05.520Z] [runtime-status] [5240] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5240] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:13:05.524Z] [runtime-status] [5240] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5240] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:13:05.524Z] [runtime-status] [5240] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5240] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T05:13:05.737Z] [runtime-status] [5240] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5240] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T05:13:05.737Z] [runtime-status] [5240] Listening to port: \\?\pipe\fire_emu_030e0a138b8a3866 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5240] Listening to port: \\\\?\\pipe\\fire_emu_030e0a138b8a3866"}}
[debug] [2022-10-21T05:13:05.780Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:13:05.780Z] [worker-us-central1-api-44fa4e89-0068-45fe-bc24-28621ed2b63f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-44fa4e89-0068-45fe-bc24-28621ed2b63f]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  payment request recived!! for this amount  8042573.994000001 {"user":"payment request recived!! for this amount  8042573.994000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment request recived!! for this amount  8042573.994000001"}}
[info] >  D:\clone\amazon-clone\functions\index.js:53 {"user":"D:\\clone\\amazon-clone\\functions\\index.js:53\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m D:\\clone\\amazon-clone\\functions\\index.js:53\r"}}
[info] >      const PaymentIntent = await stripe.PaymentIntent.create({ {"user":"    const PaymentIntent = await stripe.PaymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const PaymentIntent = await stripe.PaymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:53:54 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:53:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:53:54\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:38:5 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:38:5\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:38:5\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2022-10-21T05:13:05.811Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:13:05.822Z] [worker-us-central1-api-44fa4e89-0068-45fe-bc24-28621ed2b63f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-44fa4e89-0068-45fe-bc24-28621ed2b63f]: exited"}}
[debug] [2022-10-21T05:13:05.823Z] [worker-us-central1-api-44fa4e89-0068-45fe-bc24-28621ed2b63f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-44fa4e89-0068-45fe-bc24-28621ed2b63f]: FINISHED"}}
[debug] [2022-10-21T05:15:50.522Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:15:50.523Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:15:50.523Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=8042573.994000001 --> us-central1-api
[debug] [2022-10-21T05:15:50.526Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:15:50.527Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001"}}
[debug] [2022-10-21T05:15:50.527Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:15:50.534Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:15:50.534Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:15:52.611Z] [runtime-status] [10792] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10792] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:15:52.616Z] [runtime-status] [10792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:15:52.616Z] [runtime-status] [10792] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10792] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T05:15:52.618Z] [runtime-status] [10792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:15:52.904Z] [runtime-status] [10792] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10792] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T05:15:52.904Z] [runtime-status] [10792] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10792] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T05:15:52.906Z] [runtime-status] [10792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:15:52.907Z] [runtime-status] [10792] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10792] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:15:52.911Z] [runtime-status] [10792] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10792] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:15:52.911Z] [runtime-status] [10792] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10792] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T05:15:53.141Z] [runtime-status] [10792] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10792] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T05:15:53.141Z] [runtime-status] [10792] Listening to port: \\?\pipe\fire_emu_5c05ab6e511793b0 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10792] Listening to port: \\\\?\\pipe\\fire_emu_5c05ab6e511793b0"}}
[debug] [2022-10-21T05:15:53.202Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:15:53.202Z] [worker-us-central1-api-f6b9dfe0-974e-459f-8763-24795d07c8b8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f6b9dfe0-974e-459f-8763-24795d07c8b8]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  payment request recived!! for this amount  8042573.994000001 {"user":"payment request recived!! for this amount  8042573.994000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment request recived!! for this amount  8042573.994000001"}}
[info] >  D:\clone\amazon-clone\functions\index.js:53 {"user":"D:\\clone\\amazon-clone\\functions\\index.js:53\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m D:\\clone\\amazon-clone\\functions\\index.js:53\r"}}
[info] >      const PaymentIntent = await stripe.PaymentIntent.create({ {"user":"    const PaymentIntent = await stripe.PaymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const PaymentIntent = await stripe.PaymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:53:54 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:53:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:53:54\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:38:5 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:38:5\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:38:5\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2022-10-21T05:15:53.232Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:15:53.251Z] [worker-us-central1-api-f6b9dfe0-974e-459f-8763-24795d07c8b8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f6b9dfe0-974e-459f-8763-24795d07c8b8]: exited"}}
[debug] [2022-10-21T05:15:53.251Z] [worker-us-central1-api-f6b9dfe0-974e-459f-8763-24795d07c8b8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f6b9dfe0-974e-459f-8763-24795d07c8b8]: FINISHED"}}
[debug] [2022-10-21T05:15:54.500Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:15:54.501Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:15:54.501Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:15:54.505Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:15:54.506Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:15:54.507Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:15:54.520Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:15:54.520Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:15:54.808Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T05:15:54.809Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:15:54.809Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:15:54.816Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:15:54.817Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:15:54.817Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:15:54.817Z] [worker-us-central1-api-cb8045a7-d25d-45ad-a7cb-fe7d0cee9217]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cb8045a7-d25d-45ad-a7cb-fe7d0cee9217]: BUSY"}}
[debug] [2022-10-21T05:15:54.819Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:15:54.840Z] [worker-us-central1-api-cb8045a7-d25d-45ad-a7cb-fe7d0cee9217]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cb8045a7-d25d-45ad-a7cb-fe7d0cee9217]: exited"}}
[debug] [2022-10-21T05:15:54.840Z] [worker-us-central1-api-cb8045a7-d25d-45ad-a7cb-fe7d0cee9217]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cb8045a7-d25d-45ad-a7cb-fe7d0cee9217]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T05:16:24.602Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:16:26.487Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:16:26.487Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:16:26.487Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=6425036.436000001 --> us-central1-api
[debug] [2022-10-21T05:16:26.491Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:16:26.492Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=6425036.436000001, mapping to path=/payments/create?total=6425036.436000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=6425036.436000001, mapping to path=/payments/create?total=6425036.436000001"}}
[debug] [2022-10-21T05:16:26.492Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:16:26.500Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:16:26.501Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:16:26.504Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T05:16:26.504Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:16:26.504Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=6425036.436000001 --> us-central1-api
[debug] [2022-10-21T05:16:26.509Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:16:26.509Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=6425036.436000001, mapping to path=/payments/create?total=6425036.436000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=6425036.436000001, mapping to path=/payments/create?total=6425036.436000001"}}
[debug] [2022-10-21T05:16:26.510Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:16:26.510Z] [worker-us-central1-api-3370ffc6-b73d-4007-9eeb-d11792c9280c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3370ffc6-b73d-4007-9eeb-d11792c9280c]: BUSY"}}
[debug] [2022-10-21T05:16:26.513Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:16:26.520Z] [worker-us-central1-api-3370ffc6-b73d-4007-9eeb-d11792c9280c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3370ffc6-b73d-4007-9eeb-d11792c9280c]: exited"}}
[debug] [2022-10-21T05:16:26.520Z] [worker-us-central1-api-3370ffc6-b73d-4007-9eeb-d11792c9280c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3370ffc6-b73d-4007-9eeb-d11792c9280c]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T05:16:56.580Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:19:36.236Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:19:36.236Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:19:36.236Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=6425036.436000001 --> us-central1-api
[debug] [2022-10-21T05:19:36.240Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:19:36.241Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=6425036.436000001, mapping to path=/payments/create?total=6425036.436000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=6425036.436000001, mapping to path=/payments/create?total=6425036.436000001"}}
[debug] [2022-10-21T05:19:36.241Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:19:36.251Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:19:36.251Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:19:38.624Z] [runtime-status] [8672] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8672] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:19:38.628Z] [runtime-status] [8672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:19:38.629Z] [runtime-status] [8672] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8672] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T05:19:38.630Z] [runtime-status] [8672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:19:38.991Z] [runtime-status] [8672] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8672] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T05:19:38.991Z] [runtime-status] [8672] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8672] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T05:19:38.992Z] [runtime-status] [8672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:19:38.995Z] [runtime-status] [8672] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8672] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:19:38.998Z] [runtime-status] [8672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:19:38.998Z] [runtime-status] [8672] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8672] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T05:19:39.229Z] [runtime-status] [8672] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8672] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T05:19:39.230Z] [runtime-status] [8672] Listening to port: \\?\pipe\fire_emu_6fd4c4a49eda949d {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8672] Listening to port: \\\\?\\pipe\\fire_emu_6fd4c4a49eda949d"}}
[debug] [2022-10-21T05:19:39.338Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:19:39.338Z] [worker-us-central1-api-cbc6a5ce-44eb-4336-ae31-24b978c49828]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cbc6a5ce-44eb-4336-ae31-24b978c49828]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  payment request recived!! for this amount  6425036.436000001 {"user":"payment request recived!! for this amount  6425036.436000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment request recived!! for this amount  6425036.436000001"}}
[info] >  D:\clone\amazon-clone\functions\index.js:53 {"user":"D:\\clone\\amazon-clone\\functions\\index.js:53\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m D:\\clone\\amazon-clone\\functions\\index.js:53\r"}}
[info] >      const PaymentIntent = await stripe.PaymentIntent.create({ {"user":"    const PaymentIntent = await stripe.PaymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const PaymentIntent = await stripe.PaymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:53:54 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:53:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:53:54\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:38:5 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:38:5\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:38:5\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2022-10-21T05:19:39.392Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:19:39.478Z] [worker-us-central1-api-cbc6a5ce-44eb-4336-ae31-24b978c49828]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cbc6a5ce-44eb-4336-ae31-24b978c49828]: exited"}}
[debug] [2022-10-21T05:19:39.479Z] [worker-us-central1-api-cbc6a5ce-44eb-4336-ae31-24b978c49828]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cbc6a5ce-44eb-4336-ae31-24b978c49828]: FINISHED"}}
[debug] [2022-10-21T05:19:41.176Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T05:19:42.185Z] Validating nodejs source
[debug] [2022-10-21T05:19:46.828Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T05:19:46.828Z] Building nodejs source
[debug] [2022-10-21T05:19:46.829Z] Analyzing nodejs backend spec
[debug] [2022-10-21T05:19:46.829Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T05:19:47.196Z] Serving at port 9005

[debug] [2022-10-21T05:19:47.569Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T05:19:47.575Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T05:20:57.586Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:20:57.586Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:20:57.586Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:20:57.591Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:20:57.591Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:20:57.591Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:20:57.601Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:20:57.601Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:20:57.603Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T05:20:57.603Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:20:57.603Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:20:57.611Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:20:57.612Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:20:57.612Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:20:57.612Z] [worker-us-central1-api-1728ce6a-3a66-4920-a96a-922389ffd3cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1728ce6a-3a66-4920-a96a-922389ffd3cd]: BUSY"}}
[debug] [2022-10-21T05:20:57.616Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:20:57.642Z] [worker-us-central1-api-1728ce6a-3a66-4920-a96a-922389ffd3cd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1728ce6a-3a66-4920-a96a-922389ffd3cd]: exited"}}
[debug] [2022-10-21T05:20:57.643Z] [worker-us-central1-api-1728ce6a-3a66-4920-a96a-922389ffd3cd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1728ce6a-3a66-4920-a96a-922389ffd3cd]: FINISHED"}}
[debug] [2022-10-21T05:21:22.457Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T05:21:22.458Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:21:22.458Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=327874.911 --> us-central1-api
[debug] [2022-10-21T05:21:22.463Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:21:22.463Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=327874.911, mapping to path=/payments/create?total=327874.911 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=327874.911, mapping to path=/payments/create?total=327874.911"}}
[debug] [2022-10-21T05:21:22.463Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:21:22.473Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:21:22.474Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:21:22.477Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2022-10-21T05:21:22.477Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-10-21T05:21:22.478Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=327874.911 --> us-central1-api
[debug] [2022-10-21T05:21:22.483Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:21:22.483Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=327874.911, mapping to path=/payments/create?total=327874.911 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=327874.911, mapping to path=/payments/create?total=327874.911"}}
[debug] [2022-10-21T05:21:22.483Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:21:22.484Z] [worker-us-central1-api-71ea41a6-ffd7-45bf-b606-70623780e84e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-71ea41a6-ffd7-45bf-b606-70623780e84e]: BUSY"}}
[debug] [2022-10-21T05:21:22.485Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:21:22.497Z] [worker-us-central1-api-71ea41a6-ffd7-45bf-b606-70623780e84e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-71ea41a6-ffd7-45bf-b606-70623780e84e]: exited"}}
[debug] [2022-10-21T05:21:22.497Z] [worker-us-central1-api-71ea41a6-ffd7-45bf-b606-70623780e84e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-71ea41a6-ffd7-45bf-b606-70623780e84e]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T05:21:27.607Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T05:21:52.561Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:22:09.265Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:22:09.266Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:22:09.266Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=327874.911 --> us-central1-api
[debug] [2022-10-21T05:22:09.270Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:22:09.271Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=327874.911, mapping to path=/payments/create?total=327874.911 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=327874.911, mapping to path=/payments/create?total=327874.911"}}
[debug] [2022-10-21T05:22:09.271Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:22:09.279Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:22:09.279Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:22:09.436Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T05:22:09.436Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:22:09.436Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=327874.911 --> us-central1-api
[debug] [2022-10-21T05:22:09.441Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:22:09.442Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=327874.911, mapping to path=/payments/create?total=327874.911 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=327874.911, mapping to path=/payments/create?total=327874.911"}}
[debug] [2022-10-21T05:22:09.442Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:22:09.442Z] [worker-us-central1-api-15887c2e-9408-4b09-b39e-49eb79f1387e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-15887c2e-9408-4b09-b39e-49eb79f1387e]: BUSY"}}
[debug] [2022-10-21T05:22:09.443Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:22:09.455Z] [worker-us-central1-api-15887c2e-9408-4b09-b39e-49eb79f1387e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-15887c2e-9408-4b09-b39e-49eb79f1387e]: exited"}}
[debug] [2022-10-21T05:22:09.455Z] [worker-us-central1-api-15887c2e-9408-4b09-b39e-49eb79f1387e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-15887c2e-9408-4b09-b39e-49eb79f1387e]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T05:22:39.378Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:22:41.410Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:22:41.410Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:22:41.410Z] Accepted request GET /clone-5f259/us-central1/api/payments/create?total=327874.911 --> us-central1-api
[debug] [2022-10-21T05:22:41.415Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:22:41.415Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=327874.911, mapping to path=/payments/create?total=327874.911 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=327874.911, mapping to path=/payments/create?total=327874.911"}}
[debug] [2022-10-21T05:22:41.415Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:22:41.424Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:22:41.424Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:22:43.179Z] [runtime-status] [10520] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10520] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:22:43.184Z] [runtime-status] [10520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:22:43.185Z] [runtime-status] [10520] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10520] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T05:22:43.186Z] [runtime-status] [10520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:22:43.458Z] [runtime-status] [10520] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10520] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T05:22:43.458Z] [runtime-status] [10520] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10520] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T05:22:43.459Z] [runtime-status] [10520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:22:43.461Z] [runtime-status] [10520] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10520] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:22:43.465Z] [runtime-status] [10520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:22:43.465Z] [runtime-status] [10520] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10520] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T05:22:43.678Z] [runtime-status] [10520] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10520] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T05:22:43.679Z] [runtime-status] [10520] Listening to port: \\?\pipe\fire_emu_350bd95ced852cf6 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10520] Listening to port: \\\\?\\pipe\\fire_emu_350bd95ced852cf6"}}
[debug] [2022-10-21T05:22:43.730Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:22:43.730Z] [worker-us-central1-api-84592f9f-e46f-459f-bbbf-45fd1cb9420d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-84592f9f-e46f-459f-bbbf-45fd1cb9420d]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-21T05:22:43.745Z] [worker-us-central1-api-84592f9f-e46f-459f-bbbf-45fd1cb9420d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-84592f9f-e46f-459f-bbbf-45fd1cb9420d]: IDLE"}}
[debug] [2022-10-21T05:22:43.745Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "api" in 7.8468ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 7.8468ms"}}
[debug] [2022-10-21T05:24:14.408Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T05:24:15.421Z] Validating nodejs source
[debug] [2022-10-21T05:24:19.514Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T05:24:19.515Z] Building nodejs source
[debug] [2022-10-21T05:24:19.515Z] Analyzing nodejs backend spec
[debug] [2022-10-21T05:24:19.515Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T05:24:19.876Z] Serving at port 9005

[debug] [2022-10-21T05:24:20.249Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T05:24:20.255Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T05:24:20.275Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-10-21T05:24:20.275Z] [worker-us-central1-api-84592f9f-e46f-459f-bbbf-45fd1cb9420d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-84592f9f-e46f-459f-bbbf-45fd1cb9420d]: FINISHING"}}
[debug] [2022-10-21T05:24:20.287Z] [worker-us-central1-api-84592f9f-e46f-459f-bbbf-45fd1cb9420d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-84592f9f-e46f-459f-bbbf-45fd1cb9420d]: exited"}}
[debug] [2022-10-21T05:24:20.287Z] [worker-us-central1-api-84592f9f-e46f-459f-bbbf-45fd1cb9420d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-84592f9f-e46f-459f-bbbf-45fd1cb9420d]: FINISHED"}}
[debug] [2022-10-21T05:24:25.364Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:24:25.364Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:24:25.365Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:24:25.369Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:24:25.370Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:24:25.370Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:24:25.379Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:24:25.380Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:24:25.381Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T05:24:25.381Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:24:25.381Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:24:25.385Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:24:25.385Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:24:25.386Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:24:25.386Z] [worker-us-central1-api-bb899d9b-4187-47c8-8585-0be6a651478a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bb899d9b-4187-47c8-8585-0be6a651478a]: BUSY"}}
[debug] [2022-10-21T05:24:25.388Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:24:25.436Z] [worker-us-central1-api-bb899d9b-4187-47c8-8585-0be6a651478a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bb899d9b-4187-47c8-8585-0be6a651478a]: exited"}}
[debug] [2022-10-21T05:24:25.436Z] [worker-us-central1-api-bb899d9b-4187-47c8-8585-0be6a651478a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bb899d9b-4187-47c8-8585-0be6a651478a]: FINISHED"}}
[debug] [2022-10-21T05:24:50.622Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T05:24:50.623Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:24:50.623Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:24:50.628Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:24:50.629Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:24:50.629Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:24:50.638Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:24:50.639Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:24:50.641Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2022-10-21T05:24:50.641Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-10-21T05:24:50.641Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:24:50.646Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:24:50.646Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:24:50.647Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:24:50.647Z] [worker-us-central1-api-34439fcf-50ad-4ee2-b38d-73fdb38c386e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-34439fcf-50ad-4ee2-b38d-73fdb38c386e]: BUSY"}}
[debug] [2022-10-21T05:24:50.649Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:24:50.715Z] [worker-us-central1-api-34439fcf-50ad-4ee2-b38d-73fdb38c386e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-34439fcf-50ad-4ee2-b38d-73fdb38c386e]: exited"}}
[debug] [2022-10-21T05:24:50.715Z] [worker-us-central1-api-34439fcf-50ad-4ee2-b38d-73fdb38c386e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-34439fcf-50ad-4ee2-b38d-73fdb38c386e]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T05:24:55.482Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T05:25:20.710Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:27:49.600Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:27:49.601Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:27:49.601Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=8042573.994000001 --> us-central1-api
[debug] [2022-10-21T05:27:49.606Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:27:49.606Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001"}}
[debug] [2022-10-21T05:27:49.606Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:27:49.617Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:27:49.618Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:27:49.620Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T05:27:49.620Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:27:49.620Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=8042573.994000001 --> us-central1-api
[debug] [2022-10-21T05:27:49.629Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:27:49.629Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001"}}
[debug] [2022-10-21T05:27:49.630Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:27:49.630Z] [worker-us-central1-api-aa863cd9-0fc9-4ad2-b1f3-0aea8064f864]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-aa863cd9-0fc9-4ad2-b1f3-0aea8064f864]: BUSY"}}
[debug] [2022-10-21T05:27:49.631Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:27:49.658Z] [worker-us-central1-api-aa863cd9-0fc9-4ad2-b1f3-0aea8064f864]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-aa863cd9-0fc9-4ad2-b1f3-0aea8064f864]: exited"}}
[debug] [2022-10-21T05:27:49.658Z] [worker-us-central1-api-aa863cd9-0fc9-4ad2-b1f3-0aea8064f864]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-aa863cd9-0fc9-4ad2-b1f3-0aea8064f864]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T05:28:19.675Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:31:48.938Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T05:31:48.938Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T05:31:48.939Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=8042573.994000001 --> us-central1-api
[debug] [2022-10-21T05:31:48.943Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:31:48.944Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=8042573.994000001, mapping to path=/payments/create?total=8042573.994000001"}}
[debug] [2022-10-21T05:31:48.944Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T05:31:48.953Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:31:48.953Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T05:31:50.995Z] [runtime-status] [1116] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1116] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:31:51.000Z] [runtime-status] [1116] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1116] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:31:51.000Z] [runtime-status] [1116] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1116] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T05:31:51.003Z] [runtime-status] [1116] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1116] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:31:51.295Z] [runtime-status] [1116] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1116] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T05:31:51.295Z] [runtime-status] [1116] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1116] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T05:31:51.296Z] [runtime-status] [1116] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1116] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:31:51.298Z] [runtime-status] [1116] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1116] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T05:31:51.302Z] [runtime-status] [1116] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1116] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T05:31:51.303Z] [runtime-status] [1116] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1116] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T05:31:51.557Z] [runtime-status] [1116] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1116] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T05:31:51.557Z] [runtime-status] [1116] Listening to port: \\?\pipe\fire_emu_ddc547d2e095eb74 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1116] Listening to port: \\\\?\\pipe\\fire_emu_ddc547d2e095eb74"}}
[debug] [2022-10-21T05:31:51.624Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:31:51.624Z] [worker-us-central1-api-69870c05-9e41-4fc2-adcd-0022a9540dcf]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-69870c05-9e41-4fc2-adcd-0022a9540dcf]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-21T05:31:53.082Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T05:31:53.083Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:31:53.083Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:31:53.089Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:31:53.089Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:31:53.097Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T05:31:53.098Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-10-21T05:31:53.132Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2022-10-21T05:31:53.132Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-10-21T05:31:53.132Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T05:31:53.137Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T05:31:53.138Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T05:31:53.138Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T05:31:53.138Z] [worker-us-central1-api-885779a8-021a-43c4-a9c8-022e98ac44ff]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-885779a8-021a-43c4-a9c8-022e98ac44ff]: BUSY"}}
[debug] [2022-10-21T05:31:53.140Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T05:31:53.181Z] [worker-us-central1-api-885779a8-021a-43c4-a9c8-022e98ac44ff]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-885779a8-021a-43c4-a9c8-022e98ac44ff]: exited"}}
[debug] [2022-10-21T05:31:53.182Z] [worker-us-central1-api-885779a8-021a-43c4-a9c8-022e98ac44ff]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-885779a8-021a-43c4-a9c8-022e98ac44ff]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T05:32:23.161Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[warn] !  Your function was killed because it raised an unhandled error. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function was killed because it raised an unhandled error."}}
[debug] [2022-10-21T05:32:51.656Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T05:32:51.670Z] [worker-us-central1-api-69870c05-9e41-4fc2-adcd-0022a9540dcf]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-69870c05-9e41-4fc2-adcd-0022a9540dcf]: exited"}}
[debug] [2022-10-21T05:32:51.671Z] [worker-us-central1-api-69870c05-9e41-4fc2-adcd-0022a9540dcf]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-69870c05-9e41-4fc2-adcd-0022a9540dcf]: FINISHED"}}
[debug] [2022-10-21T08:28:23.394Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T08:28:23.395Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T08:28:23.395Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T08:28:23.400Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:28:23.401Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T08:28:23.401Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-10-21T08:28:23.410Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T08:28:23.410Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T08:28:23.412Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T08:28:23.412Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T08:28:23.412Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T08:28:23.416Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:28:23.417Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T08:28:23.417Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T08:28:23.417Z] [worker-us-central1-api-282778a1-cba4-4e4e-b825-3def806d7150]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-282778a1-cba4-4e4e-b825-3def806d7150]: BUSY"}}
[debug] [2022-10-21T08:28:23.419Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T08:28:23.425Z] [worker-us-central1-api-282778a1-cba4-4e4e-b825-3def806d7150]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-282778a1-cba4-4e4e-b825-3def806d7150]: exited"}}
[debug] [2022-10-21T08:28:23.425Z] [worker-us-central1-api-282778a1-cba4-4e4e-b825-3def806d7150]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-282778a1-cba4-4e4e-b825-3def806d7150]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T08:28:53.482Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T08:31:15.190Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T08:31:15.190Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T08:31:15.190Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T08:31:15.194Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:31:15.195Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T08:31:15.195Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T08:31:15.200Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T08:31:15.201Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T08:31:17.125Z] [runtime-status] [1216] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1216] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T08:31:17.128Z] [runtime-status] [1216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T08:31:17.129Z] [runtime-status] [1216] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1216] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T08:31:17.131Z] [runtime-status] [1216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T08:31:17.640Z] [runtime-status] [1216] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1216] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T08:31:17.640Z] [runtime-status] [1216] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1216] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T08:31:17.644Z] [runtime-status] [1216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T08:31:17.645Z] [runtime-status] [1216] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1216] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T08:31:17.655Z] [runtime-status] [1216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T08:31:17.656Z] [runtime-status] [1216] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1216] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T08:31:18.076Z] [runtime-status] [1216] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1216] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T08:31:18.077Z] [runtime-status] [1216] Listening to port: \\?\pipe\fire_emu_0e777b845f697b7f {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1216] Listening to port: \\\\?\\pipe\\fire_emu_0e777b845f697b7f"}}
[debug] [2022-10-21T08:31:18.124Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T08:31:18.124Z] [worker-us-central1-api-f1cf9961-7da6-4a2d-a326-50b1834ac32c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1cf9961-7da6-4a2d-a326-50b1834ac32c]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-21T08:31:24.926Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T08:31:24.926Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T08:31:24.926Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T08:31:24.932Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:31:24.932Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T08:31:24.941Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T08:31:24.942Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-10-21T08:31:24.944Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2022-10-21T08:31:24.944Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-10-21T08:31:24.944Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T08:31:24.949Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:31:24.949Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T08:31:24.949Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T08:31:24.953Z] [worker-us-central1-api-bfe1c77e-ca17-4c0b-823a-067a71488e2e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bfe1c77e-ca17-4c0b-823a-067a71488e2e]: BUSY"}}
[debug] [2022-10-21T08:31:24.956Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T08:31:25.004Z] [worker-us-central1-api-bfe1c77e-ca17-4c0b-823a-067a71488e2e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bfe1c77e-ca17-4c0b-823a-067a71488e2e]: exited"}}
[debug] [2022-10-21T08:31:25.004Z] [worker-us-central1-api-bfe1c77e-ca17-4c0b-823a-067a71488e2e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bfe1c77e-ca17-4c0b-823a-067a71488e2e]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T08:31:55.002Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T08:32:14.517Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T08:32:14.518Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T08:32:14.518Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T08:32:14.522Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:32:14.522Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T08:32:14.522Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[debug] [2022-10-21T08:32:14.532Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T08:32:14.532Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-10-21T08:32:14.534Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2022-10-21T08:32:14.534Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-10-21T08:32:14.534Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T08:32:14.538Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:32:14.538Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T08:32:14.538Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T08:32:14.539Z] [worker-us-central1-api-5159e2f5-fb35-493c-8e61-b2a05252888f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5159e2f5-fb35-493c-8e61-b2a05252888f]: BUSY"}}
[debug] [2022-10-21T08:32:14.540Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T08:32:14.600Z] [worker-us-central1-api-5159e2f5-fb35-493c-8e61-b2a05252888f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5159e2f5-fb35-493c-8e61-b2a05252888f]: exited"}}
[debug] [2022-10-21T08:32:14.601Z] [worker-us-central1-api-5159e2f5-fb35-493c-8e61-b2a05252888f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5159e2f5-fb35-493c-8e61-b2a05252888f]: FINISHED"}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[warn] !  Your function was killed because it raised an unhandled error. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function was killed because it raised an unhandled error."}}
[debug] [2022-10-21T08:32:18.149Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T08:32:18.160Z] [worker-us-central1-api-f1cf9961-7da6-4a2d-a326-50b1834ac32c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1cf9961-7da6-4a2d-a326-50b1834ac32c]: exited"}}
[debug] [2022-10-21T08:32:18.160Z] [worker-us-central1-api-f1cf9961-7da6-4a2d-a326-50b1834ac32c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f1cf9961-7da6-4a2d-a326-50b1834ac32c]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T08:32:44.559Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T08:32:46.356Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T08:32:47.372Z] Validating nodejs source
[debug] [2022-10-21T08:32:52.012Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T08:32:52.013Z] Building nodejs source
[debug] [2022-10-21T08:32:52.013Z] Analyzing nodejs backend spec
[debug] [2022-10-21T08:32:52.014Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T08:32:52.463Z] Serving at port 9005

[debug] [2022-10-21T08:32:52.893Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T08:32:52.901Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T08:34:05.104Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T08:34:06.115Z] Validating nodejs source
[debug] [2022-10-21T08:34:10.034Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T08:34:10.034Z] Building nodejs source
[debug] [2022-10-21T08:34:10.034Z] Analyzing nodejs backend spec
[debug] [2022-10-21T08:34:10.035Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T08:34:10.046Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T08:34:10.403Z] Serving at port 9005

[debug] [2022-10-21T08:34:10.772Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T08:34:10.779Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T08:34:11.061Z] Validating nodejs source
[debug] [2022-10-21T08:34:15.326Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T08:34:15.326Z] Building nodejs source
[debug] [2022-10-21T08:34:15.326Z] Analyzing nodejs backend spec
[debug] [2022-10-21T08:34:15.327Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T08:34:15.718Z] Serving at port 9005

[debug] [2022-10-21T08:34:16.094Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T08:34:16.100Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T08:35:41.191Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T08:35:41.191Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T08:35:41.191Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T08:35:41.196Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:35:41.197Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T08:35:41.197Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-10-21T08:35:41.204Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T08:35:41.204Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T08:35:43.085Z] [runtime-status] [10924] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10924] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T08:35:43.088Z] [runtime-status] [10924] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10924] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T08:35:43.089Z] [runtime-status] [10924] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10924] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T08:35:43.091Z] [runtime-status] [10924] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10924] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T08:35:43.376Z] [runtime-status] [10924] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10924] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T08:35:43.377Z] [runtime-status] [10924] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10924] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T08:35:43.379Z] [runtime-status] [10924] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10924] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T08:35:43.381Z] [runtime-status] [10924] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10924] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T08:35:43.384Z] [runtime-status] [10924] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10924] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T08:35:43.385Z] [runtime-status] [10924] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10924] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T08:35:43.617Z] [runtime-status] [10924] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10924] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T08:35:43.617Z] [runtime-status] [10924] Listening to port: \\?\pipe\fire_emu_4e6887b07ca739cc {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10924] Listening to port: \\\\?\\pipe\\fire_emu_4e6887b07ca739cc"}}
[debug] [2022-10-21T08:35:43.648Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T08:35:43.649Z] [worker-us-central1-api-320f78d8-cd16-4e66-bf03-d0a15f035586]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-320f78d8-cd16-4e66-bf03-d0a15f035586]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  payment request recived!! for this amount  0 {"user":"payment request recived!! for this amount  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment request recived!! for this amount  0"}}
[info] >  D:\clone\amazon-clone\functions\index.js:48 {"user":"D:\\clone\\amazon-clone\\functions\\index.js:48\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m D:\\clone\\amazon-clone\\functions\\index.js:48\r"}}
[info] >      const PaymentIntent = await stripe.PaymentIntent.create({ {"user":"    const PaymentIntent = await stripe.PaymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const PaymentIntent = await stripe.PaymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:48:54 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:48:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:48:54\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (D:\clone\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (D:\\clone\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (D:\\clone\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2022-10-21T08:35:43.684Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T08:35:43.698Z] [worker-us-central1-api-320f78d8-cd16-4e66-bf03-d0a15f035586]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-320f78d8-cd16-4e66-bf03-d0a15f035586]: exited"}}
[debug] [2022-10-21T08:35:43.698Z] [worker-us-central1-api-320f78d8-cd16-4e66-bf03-d0a15f035586]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-320f78d8-cd16-4e66-bf03-d0a15f035586]: FINISHED"}}
[debug] [2022-10-21T08:36:20.943Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T08:36:20.944Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T08:36:20.944Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T08:36:20.955Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:36:20.956Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T08:36:20.956Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T08:36:20.965Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T08:36:20.965Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T08:36:21.074Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T08:36:21.075Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T08:36:21.075Z] Accepted request GET /clone-5f259/us-central1/api --> us-central1-api
[debug] [2022-10-21T08:36:21.079Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:36:21.080Z] [functions] Got req.url=/clone-5f259/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api, mapping to path=/"}}
[debug] [2022-10-21T08:36:21.080Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T08:36:21.080Z] [worker-us-central1-api-45db8f04-6a2e-4b1c-ba15-bf4d936afe4f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-45db8f04-6a2e-4b1c-ba15-bf4d936afe4f]: BUSY"}}
[debug] [2022-10-21T08:36:21.082Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T08:36:21.113Z] [worker-us-central1-api-45db8f04-6a2e-4b1c-ba15-bf4d936afe4f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-45db8f04-6a2e-4b1c-ba15-bf4d936afe4f]: exited"}}
[debug] [2022-10-21T08:36:21.114Z] [worker-us-central1-api-45db8f04-6a2e-4b1c-ba15-bf4d936afe4f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-45db8f04-6a2e-4b1c-ba15-bf4d936afe4f]: FINISHED"}}
[debug] [2022-10-21T08:36:24.908Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T08:36:24.911Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T08:36:24.911Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T08:36:24.923Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:36:24.924Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T08:36:24.924Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T08:36:24.933Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T08:36:24.933Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T08:36:24.935Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2022-10-21T08:36:24.935Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-10-21T08:36:24.935Z] Accepted request GET /clone-5f259/us-central1/api --> us-central1-api
[debug] [2022-10-21T08:36:24.942Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:36:24.942Z] [functions] Got req.url=/clone-5f259/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api, mapping to path=/"}}
[debug] [2022-10-21T08:36:24.942Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T08:36:24.943Z] [worker-us-central1-api-2255129a-66b9-4af7-9997-b5982751b149]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2255129a-66b9-4af7-9997-b5982751b149]: BUSY"}}
[debug] [2022-10-21T08:36:24.948Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T08:36:24.949Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2022-10-21T08:36:24.949Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-10-21T08:36:24.949Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T08:36:24.955Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:36:24.955Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T08:36:24.966Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T08:36:24.966Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-10-21T08:36:25.002Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2022-10-21T08:36:25.002Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2022-10-21T08:36:25.002Z] Accepted request GET /clone-5f259/us-central1/api --> us-central1-api
[debug] [2022-10-21T08:36:25.006Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:36:25.007Z] [functions] Got req.url=/clone-5f259/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api, mapping to path=/"}}
[debug] [2022-10-21T08:36:25.007Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T08:36:25.007Z] [worker-us-central1-api-433360c0-6ebb-4860-9d85-1eb9bc398ef2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-433360c0-6ebb-4860-9d85-1eb9bc398ef2]: BUSY"}}
[debug] [2022-10-21T08:36:25.009Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-10-21T08:36:25.040Z] [worker-us-central1-api-433360c0-6ebb-4860-9d85-1eb9bc398ef2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-433360c0-6ebb-4860-9d85-1eb9bc398ef2]: exited"}}
[debug] [2022-10-21T08:36:25.040Z] [worker-us-central1-api-433360c0-6ebb-4860-9d85-1eb9bc398ef2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-433360c0-6ebb-4860-9d85-1eb9bc398ef2]: FINISHED"}}
[debug] [2022-10-21T08:36:25.041Z] [worker-us-central1-api-2255129a-66b9-4af7-9997-b5982751b149]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2255129a-66b9-4af7-9997-b5982751b149]: exited"}}
[debug] [2022-10-21T08:36:25.041Z] [worker-us-central1-api-2255129a-66b9-4af7-9997-b5982751b149]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2255129a-66b9-4af7-9997-b5982751b149]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T08:36:51.068Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T08:36:54.984Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T08:36:55.033Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T08:37:07.291Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T08:37:07.291Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T08:37:07.292Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=6425036.436000001 --> us-central1-api
[debug] [2022-10-21T08:37:07.297Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:37:07.297Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=6425036.436000001, mapping to path=/payments/create?total=6425036.436000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=6425036.436000001, mapping to path=/payments/create?total=6425036.436000001"}}
[debug] [2022-10-21T08:37:07.298Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-10-21T08:37:07.310Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T08:37:07.310Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T08:37:07.313Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T08:37:07.313Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T08:37:07.313Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=6425036.436000001 --> us-central1-api
[debug] [2022-10-21T08:37:07.320Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:37:07.321Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=6425036.436000001, mapping to path=/payments/create?total=6425036.436000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=6425036.436000001, mapping to path=/payments/create?total=6425036.436000001"}}
[debug] [2022-10-21T08:37:07.321Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T08:37:07.321Z] [worker-us-central1-api-e8780a09-7b54-42ee-8ae2-991083e2c294]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8780a09-7b54-42ee-8ae2-991083e2c294]: BUSY"}}
[debug] [2022-10-21T08:37:07.323Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T08:37:07.326Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T08:37:07.327Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T08:37:07.327Z] Accepted request GET /clone-5f259/us-central1/api --> us-central1-api
[debug] [2022-10-21T08:37:07.332Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:37:07.333Z] [functions] Got req.url=/clone-5f259/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api, mapping to path=/"}}
[debug] [2022-10-21T08:37:07.342Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T08:37:07.343Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-10-21T08:37:07.348Z] [worker-us-central1-api-e8780a09-7b54-42ee-8ae2-991083e2c294]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8780a09-7b54-42ee-8ae2-991083e2c294]: exited"}}
[debug] [2022-10-21T08:37:07.348Z] [worker-us-central1-api-e8780a09-7b54-42ee-8ae2-991083e2c294]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8780a09-7b54-42ee-8ae2-991083e2c294]: FINISHED"}}
[debug] [2022-10-21T08:37:09.301Z] [runtime-status] [7772] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7772] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T08:37:09.303Z] [runtime-status] [7772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T08:37:09.304Z] [runtime-status] [7772] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7772] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T08:37:09.306Z] [runtime-status] [7772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T08:37:09.633Z] [runtime-status] [7772] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7772] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T08:37:09.633Z] [runtime-status] [7772] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7772] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T08:37:09.635Z] [runtime-status] [7772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T08:37:09.637Z] [runtime-status] [7772] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7772] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T08:37:09.640Z] [runtime-status] [7772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T08:37:09.641Z] [runtime-status] [7772] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7772] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T08:37:09.870Z] [runtime-status] [7772] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7772] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T08:37:09.870Z] [runtime-status] [7772] Listening to port: \\?\pipe\fire_emu_37cca5e7959902e2 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7772] Listening to port: \\\\?\\pipe\\fire_emu_37cca5e7959902e2"}}
[debug] [2022-10-21T08:37:09.900Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T08:37:09.900Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[debug] [2022-10-21T08:37:09.901Z] [worker-us-central1-api-bd579db2-49a5-4d4d-9a7a-3b1a0a153a97]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bd579db2-49a5-4d4d-9a7a-3b1a0a153a97]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-21T08:37:09.922Z] [worker-us-central1-api-bd579db2-49a5-4d4d-9a7a-3b1a0a153a97]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bd579db2-49a5-4d4d-9a7a-3b1a0a153a97]: IDLE"}}
[debug] [2022-10-21T08:37:09.922Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[info] i  functions: Finished "api" in 9.5551ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 9.5551ms"}}
[debug] [2022-10-21T08:37:09.926Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T08:37:09.927Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T08:37:09.927Z] Accepted request GET /clone-5f259/us-central1/api --> us-central1-api
[debug] [2022-10-21T08:37:09.931Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:37:09.932Z] [functions] Got req.url=/clone-5f259/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api, mapping to path=/"}}
[debug] [2022-10-21T08:37:09.932Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T08:37:09.932Z] [worker-us-central1-api-bd579db2-49a5-4d4d-9a7a-3b1a0a153a97]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bd579db2-49a5-4d4d-9a7a-3b1a0a153a97]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-21T08:37:09.937Z] [worker-us-central1-api-bd579db2-49a5-4d4d-9a7a-3b1a0a153a97]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bd579db2-49a5-4d4d-9a7a-3b1a0a153a97]: IDLE"}}
[debug] [2022-10-21T08:37:09.938Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[info] i  functions: Finished "api" in 2.3548ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 2.3548ms"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T08:37:37.317Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T08:38:38.108Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T08:38:38.109Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T08:38:38.109Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=6425036.436000001 --> us-central1-api
[debug] [2022-10-21T08:38:38.113Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:38:38.113Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=6425036.436000001, mapping to path=/payments/create?total=6425036.436000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=6425036.436000001, mapping to path=/payments/create?total=6425036.436000001"}}
[debug] [2022-10-21T08:38:38.114Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T08:38:38.114Z] [worker-us-central1-api-bd579db2-49a5-4d4d-9a7a-3b1a0a153a97]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bd579db2-49a5-4d4d-9a7a-3b1a0a153a97]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  payment request recived!! for this amount  6425036.436000001 {"user":"payment request recived!! for this amount  6425036.436000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment request recived!! for this amount  6425036.436000001"}}
[info] >  D:\clone\amazon-clone\functions\index.js:48 {"user":"D:\\clone\\amazon-clone\\functions\\index.js:48\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m D:\\clone\\amazon-clone\\functions\\index.js:48\r"}}
[info] >      const PaymentIntent = await stripe.PaymentIntent.create({ {"user":"    const PaymentIntent = await stripe.PaymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const PaymentIntent = await stripe.PaymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:48:54 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:48:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:48:54\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (D:\clone\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (D:\\clone\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (D:\\clone\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2022-10-21T08:38:38.216Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T08:38:38.264Z] [worker-us-central1-api-bd579db2-49a5-4d4d-9a7a-3b1a0a153a97]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bd579db2-49a5-4d4d-9a7a-3b1a0a153a97]: exited"}}
[debug] [2022-10-21T08:38:38.265Z] [worker-us-central1-api-bd579db2-49a5-4d4d-9a7a-3b1a0a153a97]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bd579db2-49a5-4d4d-9a7a-3b1a0a153a97]: FINISHED"}}
[debug] [2022-10-21T08:38:41.264Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T08:38:41.264Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T08:38:41.264Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T08:38:41.269Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:38:41.270Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T08:38:41.270Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T08:38:41.278Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T08:38:41.279Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T08:38:41.285Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-21T08:38:41.286Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-21T08:38:41.286Z] Accepted request POST /clone-5f259/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-10-21T08:38:41.290Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T08:38:41.291Z] [functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-10-21T08:38:41.291Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T08:38:41.291Z] [worker-us-central1-api-3cc41d30-0eff-43b8-98a9-cb76ebe30c53]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3cc41d30-0eff-43b8-98a9-cb76ebe30c53]: BUSY"}}
[debug] [2022-10-21T08:38:41.293Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T08:38:41.303Z] [worker-us-central1-api-3cc41d30-0eff-43b8-98a9-cb76ebe30c53]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3cc41d30-0eff-43b8-98a9-cb76ebe30c53]: exited"}}
[debug] [2022-10-21T08:38:41.303Z] [worker-us-central1-api-3cc41d30-0eff-43b8-98a9-cb76ebe30c53]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3cc41d30-0eff-43b8-98a9-cb76ebe30c53]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-21T08:39:11.297Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T08:56:44.265Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T08:56:45.276Z] Validating nodejs source
[debug] [2022-10-21T08:56:49.099Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T08:56:49.099Z] Building nodejs source
[debug] [2022-10-21T08:56:49.099Z] Analyzing nodejs backend spec
[debug] [2022-10-21T08:56:49.100Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T08:56:49.528Z] Serving at port 9005

[debug] [2022-10-21T08:56:49.939Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T08:56:49.945Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T08:58:06.198Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T08:58:07.211Z] Validating nodejs source
[debug] [2022-10-21T08:58:11.521Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T08:58:11.521Z] Building nodejs source
[debug] [2022-10-21T08:58:11.521Z] Analyzing nodejs backend spec
[debug] [2022-10-21T08:58:11.522Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T08:58:12.049Z] Serving at port 9005

[debug] [2022-10-21T08:58:12.441Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T08:58:12.447Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T08:59:01.325Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T08:59:02.334Z] Validating nodejs source
[debug] [2022-10-21T08:59:06.887Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T08:59:06.887Z] Building nodejs source
[debug] [2022-10-21T08:59:06.887Z] Analyzing nodejs backend spec
[debug] [2022-10-21T08:59:06.887Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T08:59:07.343Z] Serving at port 9005

[debug] [2022-10-21T08:59:07.776Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T08:59:07.782Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T09:03:16.550Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T09:03:17.563Z] Validating nodejs source
[debug] [2022-10-21T09:03:21.751Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T09:03:21.752Z] Building nodejs source
[debug] [2022-10-21T09:03:21.752Z] Analyzing nodejs backend spec
[debug] [2022-10-21T09:03:21.752Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T09:03:22.122Z] Serving at port 9005

[debug] [2022-10-21T09:03:22.505Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T09:03:22.511Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T09:04:25.325Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T09:04:26.328Z] Validating nodejs source
[debug] [2022-10-21T09:04:31.035Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T09:04:31.035Z] Building nodejs source
[debug] [2022-10-21T09:04:31.035Z] Analyzing nodejs backend spec
[debug] [2022-10-21T09:04:31.035Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T09:04:31.433Z] Serving at port 9005

[debug] [2022-10-21T09:04:31.819Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T09:04:31.825Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T09:04:49.207Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T09:04:49.207Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T09:04:49.207Z] Accepted request GET /clone-5f259/us-central1/api/akash --> us-central1-api
[debug] [2022-10-21T09:04:49.210Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T09:04:49.210Z] [functions] Got req.url=/clone-5f259/us-central1/api/akash, mapping to path=/akash {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/akash, mapping to path=/akash"}}
[debug] [2022-10-21T09:04:49.210Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T09:04:49.219Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T09:04:49.219Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T09:04:50.962Z] [runtime-status] [8484] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8484] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T09:04:50.968Z] [runtime-status] [8484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T09:04:50.969Z] [runtime-status] [8484] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8484] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T09:04:50.970Z] [runtime-status] [8484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T09:04:51.246Z] [runtime-status] [8484] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8484] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T09:04:51.247Z] [runtime-status] [8484] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8484] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T09:04:51.248Z] [runtime-status] [8484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T09:04:51.250Z] [runtime-status] [8484] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8484] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T09:04:51.254Z] [runtime-status] [8484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T09:04:51.254Z] [runtime-status] [8484] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8484] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T09:04:51.475Z] [runtime-status] [8484] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8484] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T09:04:51.476Z] [runtime-status] [8484] Listening to port: \\?\pipe\fire_emu_1f5f1d00f2233097 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8484] Listening to port: \\\\?\\pipe\\fire_emu_1f5f1d00f2233097"}}
[debug] [2022-10-21T09:04:51.537Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T09:04:51.537Z] [worker-us-central1-api-56e9c478-5b89-43ba-8d62-55a3b5a5cf68]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-56e9c478-5b89-43ba-8d62-55a3b5a5cf68]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-21T09:04:51.549Z] [worker-us-central1-api-56e9c478-5b89-43ba-8d62-55a3b5a5cf68]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-56e9c478-5b89-43ba-8d62-55a3b5a5cf68]: IDLE"}}
[debug] [2022-10-21T09:04:51.550Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "api" in 8.6127ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 8.6127ms"}}
[debug] [2022-10-21T09:04:51.617Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2022-10-21T09:16:18.591Z] ----------------------------------------------------------------------
[debug] [2022-10-21T09:16:18.594Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\ADMIN\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2022-10-21T09:16:18.595Z] CLI Version:   11.14.3
[debug] [2022-10-21T09:16:18.595Z] Platform:      win32
[debug] [2022-10-21T09:16:18.595Z] Node Version:  v16.17.1
[debug] [2022-10-21T09:16:18.596Z] Time:          Fri Oct 21 2022 14:46:18 GMT+0530 (India Standard Time)
[debug] [2022-10-21T09:16:18.596Z] ----------------------------------------------------------------------
[debug] 
[debug] [2022-10-21T09:16:18.719Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-10-21T09:16:18.719Z] > authorizing via signed-in user (akashkharde111@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2022-10-21T09:16:18.744Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2022-10-21T09:16:18.744Z] [hosting] Hosting Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[warn] !  ui: Emulator UI unable to start on port 4000, starting on 4001 instead. {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI unable to start on port 4000, starting on 4001 instead."}}
[debug] [2022-10-21T09:16:18.746Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4001},{"address":"::1","family":"IPv6","port":4001}]},"metadata":{"message":"assigned listening specs for emulators"}}
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project clone-5f259. This may result in unexpected behavior. 
[debug] [2022-10-21T09:16:18.765Z] [hub] writing locator at C:\Users\ADMIN\AppData\Local\Temp\hub-clone-5f259.json
[debug] [2022-10-21T09:16:18.859Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2022-10-21T09:16:18.860Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2022-10-21T09:16:18.860Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4001},{"address":"::1","family":"IPv6","port":4001}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[info] +  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2022-10-21T09:16:18.901Z] defaultcredentials: writing to file C:\Users\ADMIN\AppData\Roaming\firebase\akashkharde111_gmail_com_application_default_credentials.json
[debug] [2022-10-21T09:16:18.912Z] Setting GAC to C:\Users\ADMIN\AppData\Roaming\firebase\akashkharde111_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\ADMIN\\AppData\\Roaming\\firebase\\akashkharde111_gmail_com_application_default_credentials.json"}}
[debug] [2022-10-21T09:16:18.915Z] > refreshing access token with scopes: []
[debug] [2022-10-21T09:16:18.921Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2022-10-21T09:16:18.921Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2022-10-21T09:16:19.253Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2022-10-21T09:16:19.253Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2022-10-21T09:16:19.373Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259/adminSdkConfig [none]
[debug] [2022-10-21T09:16:20.058Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259/adminSdkConfig 200
[debug] [2022-10-21T09:16:20.059Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259/adminSdkConfig {"projectId":"clone-5f259","storageBucket":"clone-5f259.appspot.com"}
[debug] [2022-10-21T09:16:20.170Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-5f259/sites 
[debug] [2022-10-21T09:16:25.749Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-5f259/sites 200
[debug] [2022-10-21T09:16:25.749Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-5f259/sites {"sites":[{"name":"projects/clone-5f259/sites/clone-5f259","defaultUrl":"https://clone-5f259.web.app","appId":"1:213720918801:web:de0d1f98579a3b0598bab0","type":"DEFAULT_SITE"}]}
[debug] [2022-10-21T09:16:25.749Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259/webApps/1:213720918801:web:de0d1f98579a3b0598bab0/config [none]
[debug] [2022-10-21T09:16:34.818Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259/webApps/1:213720918801:web:de0d1f98579a3b0598bab0/config 200
[debug] [2022-10-21T09:16:34.819Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259/webApps/1:213720918801:web:de0d1f98579a3b0598bab0/config {"projectId":"clone-5f259","appId":"1:213720918801:web:de0d1f98579a3b0598bab0","storageBucket":"clone-5f259.appspot.com","apiKey":"AIzaSyBgKCJ8yrwiS_V2Sned9UAcItR87pWu39s","authDomain":"clone-5f259.firebaseapp.com","messagingSenderId":"213720918801","measurementId":"G-506ZE4ZEPR"}
[debug] [2022-10-21T09:16:34.906Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259 [none]
[debug] [2022-10-21T09:16:35.673Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259 200
[debug] [2022-10-21T09:16:35.674Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-5f259 {"projectId":"clone-5f259","projectNumber":"213720918801","displayName":"amazon-clone","name":"projects/clone-5f259","resources":{"hostingSite":"clone-5f259"},"state":"ACTIVE","etag":"1_28eef18d-b108-4d2f-96bc-ca9f13909d85"}
[info] i  hosting[clone-5f259]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[clone-5f259]: Local server: http://127.0.0.1:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:5000\u001b[22m\u001b[24m"}}
[debug] [2022-10-21T09:16:35.710Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2022-10-21T09:16:35.710Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2022-10-21T09:16:35.710Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\ADMIN\\.cache\\firebase\\emulators\\ui-v1.11.1\\server\\server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\ADMIN\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.11.1\\\\server\\\\server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2022-10-21T09:16:35.931Z] Web / API server started at 127.0.0.1:4001
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4001\n"}}
[debug] [2022-10-21T09:16:35.932Z] Web / API server started at ::1:4001
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4001\n"}}
[info] i  functions: Watching "D:\clone\amazon-clone\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"D:\\clone\\amazon-clone\\functions\" for Cloud Functions..."}}
[debug] [2022-10-21T09:16:36.017Z] Validating nodejs source
[debug] [2022-10-21T09:16:39.853Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T09:16:39.853Z] Building nodejs source
[debug] [2022-10-21T09:16:39.853Z] Analyzing nodejs backend spec
[debug] [2022-10-21T09:16:39.855Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T09:16:40.246Z] Serving at port 9005

[debug] [2022-10-21T09:16:40.654Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T09:16:40.665Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/clone-5f259/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/clone-5f259/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4001/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4001/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ 127.0.0.1:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2022-10-21T09:19:27.408Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T09:19:28.438Z] Validating nodejs source
[debug] [2022-10-21T09:19:32.345Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T09:19:32.345Z] Building nodejs source
[debug] [2022-10-21T09:19:32.345Z] Analyzing nodejs backend spec
[debug] [2022-10-21T09:19:32.346Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T09:19:32.756Z] Serving at port 9005

[debug] [2022-10-21T09:19:33.160Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T09:19:33.167Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T09:19:34.421Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T09:19:34.421Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T09:19:34.422Z] Accepted request GET /clone-5f259/us-central1/api/akash --> us-central1-api
[debug] [2022-10-21T09:19:34.428Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T09:19:34.429Z] [functions] Got req.url=/clone-5f259/us-central1/api/akash, mapping to path=/akash {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/akash, mapping to path=/akash"}}
[debug] [2022-10-21T09:19:34.438Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T09:19:34.438Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T09:19:36.195Z] [runtime-status] [852] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [852] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T09:19:36.197Z] [runtime-status] [852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T09:19:36.198Z] [runtime-status] [852] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [852] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T09:19:36.200Z] [runtime-status] [852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T09:19:36.481Z] [runtime-status] [852] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [852] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T09:19:36.481Z] [runtime-status] [852] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [852] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T09:19:36.482Z] [runtime-status] [852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T09:19:36.484Z] [runtime-status] [852] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [852] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T09:19:36.487Z] [runtime-status] [852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T09:19:36.488Z] [runtime-status] [852] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [852] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T09:19:36.713Z] [runtime-status] [852] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [852] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T09:19:36.714Z] [runtime-status] [852] Listening to port: \\?\pipe\fire_emu_7c0f171b01eb4559 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [852] Listening to port: \\\\?\\pipe\\fire_emu_7c0f171b01eb4559"}}
[debug] [2022-10-21T09:19:36.783Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T09:19:36.783Z] [worker-us-central1-api-4c0490f2-2e83-4091-b5a3-78f5c82c4bad]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4c0490f2-2e83-4091-b5a3-78f5c82c4bad]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-21T09:19:36.795Z] [worker-us-central1-api-4c0490f2-2e83-4091-b5a3-78f5c82c4bad]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4c0490f2-2e83-4091-b5a3-78f5c82c4bad]: IDLE"}}
[debug] [2022-10-21T09:19:36.796Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "api" in 6.5769ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 6.5769ms"}}
[debug] [2022-10-21T09:20:00.038Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T09:20:01.054Z] Validating nodejs source
[debug] [2022-10-21T09:20:05.623Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T09:20:05.624Z] Building nodejs source
[debug] [2022-10-21T09:20:05.624Z] Analyzing nodejs backend spec
[debug] [2022-10-21T09:20:05.625Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T09:20:06.054Z] Serving at port 9005

[debug] [2022-10-21T09:20:06.476Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T09:20:06.484Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T09:20:06.505Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-10-21T09:20:06.505Z] [worker-us-central1-api-4c0490f2-2e83-4091-b5a3-78f5c82c4bad]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4c0490f2-2e83-4091-b5a3-78f5c82c4bad]: FINISHING"}}
[debug] [2022-10-21T09:20:06.518Z] [worker-us-central1-api-4c0490f2-2e83-4091-b5a3-78f5c82c4bad]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4c0490f2-2e83-4091-b5a3-78f5c82c4bad]: exited"}}
[debug] [2022-10-21T09:20:06.518Z] [worker-us-central1-api-4c0490f2-2e83-4091-b5a3-78f5c82c4bad]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4c0490f2-2e83-4091-b5a3-78f5c82c4bad]: FINISHED"}}
[debug] [2022-10-21T09:20:08.730Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T09:20:08.730Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T09:20:08.730Z] Accepted request GET /clone-5f259/us-central1/api/akash --> us-central1-api
[debug] [2022-10-21T09:20:08.737Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T09:20:08.738Z] [functions] Got req.url=/clone-5f259/us-central1/api/akash, mapping to path=/akash {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/akash, mapping to path=/akash"}}
[debug] [2022-10-21T09:20:08.738Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T09:20:08.744Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T09:20:08.744Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T09:20:10.502Z] [runtime-status] [5196] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5196] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T09:20:10.506Z] [runtime-status] [5196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T09:20:10.507Z] [runtime-status] [5196] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5196] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T09:20:10.508Z] [runtime-status] [5196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T09:20:10.789Z] [runtime-status] [5196] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5196] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T09:20:10.789Z] [runtime-status] [5196] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5196] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T09:20:10.791Z] [runtime-status] [5196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T09:20:10.792Z] [runtime-status] [5196] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5196] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T09:20:10.796Z] [runtime-status] [5196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T09:20:10.796Z] [runtime-status] [5196] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5196] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T09:20:11.017Z] [runtime-status] [5196] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5196] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T09:20:11.018Z] [runtime-status] [5196] Listening to port: \\?\pipe\fire_emu_e414d32e4048c9d7 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5196] Listening to port: \\\\?\\pipe\\fire_emu_e414d32e4048c9d7"}}
[debug] [2022-10-21T09:20:11.061Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T09:20:11.062Z] [worker-us-central1-api-eb21501f-5867-4617-afb7-6409edb3a447]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eb21501f-5867-4617-afb7-6409edb3a447]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-21T09:20:11.075Z] [worker-us-central1-api-eb21501f-5867-4617-afb7-6409edb3a447]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eb21501f-5867-4617-afb7-6409edb3a447]: IDLE"}}
[debug] [2022-10-21T09:20:11.075Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "api" in 6.8943ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in 6.8943ms"}}
[debug] [2022-10-21T09:20:21.401Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T09:20:22.411Z] Validating nodejs source
[debug] [2022-10-21T09:20:26.740Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T09:20:26.740Z] Building nodejs source
[debug] [2022-10-21T09:20:26.740Z] Analyzing nodejs backend spec
[debug] [2022-10-21T09:20:26.741Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T09:20:27.136Z] Serving at port 9005

[debug] [2022-10-21T09:20:27.662Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T09:20:27.669Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T09:20:27.692Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-10-21T09:20:27.692Z] [worker-us-central1-api-eb21501f-5867-4617-afb7-6409edb3a447]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eb21501f-5867-4617-afb7-6409edb3a447]: FINISHING"}}
[debug] [2022-10-21T09:20:27.712Z] [worker-us-central1-api-eb21501f-5867-4617-afb7-6409edb3a447]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eb21501f-5867-4617-afb7-6409edb3a447]: exited"}}
[debug] [2022-10-21T09:20:27.712Z] [worker-us-central1-api-eb21501f-5867-4617-afb7-6409edb3a447]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eb21501f-5867-4617-afb7-6409edb3a447]: FINISHED"}}
[debug] [2022-10-21T09:20:33.006Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-21T09:20:33.006Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-21T09:20:33.007Z] Accepted request GET /clone-5f259/us-central1/api/akash --> us-central1-api
[debug] [2022-10-21T09:20:33.012Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-21T09:20:33.013Z] [functions] Got req.url=/clone-5f259/us-central1/api/akash, mapping to path=/akash {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-5f259/us-central1/api/akash, mapping to path=/akash"}}
[debug] [2022-10-21T09:20:33.013Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-21T09:20:33.021Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-21T09:20:33.021Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-21T09:20:34.787Z] [runtime-status] [6096] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6096] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T09:20:34.790Z] [runtime-status] [6096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T09:20:34.791Z] [runtime-status] [6096] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6096] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-21T09:20:34.793Z] [runtime-status] [6096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T09:20:35.083Z] [runtime-status] [6096] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6096] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-21T09:20:35.083Z] [runtime-status] [6096] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6096] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2022-10-21T09:20:35.084Z] [runtime-status] [6096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T09:20:35.086Z] [runtime-status] [6096] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6096] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2022-10-21T09:20:35.089Z] [runtime-status] [6096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.1","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.1\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2022-10-21T09:20:35.090Z] [runtime-status] [6096] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"D:\\clone\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6096] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"D:\\\\clone\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2022-10-21T09:20:35.315Z] [runtime-status] [6096] Functions runtime initialized. {"cwd":"D:\\clone\\amazon-clone\\functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6096] Functions runtime initialized. {\"cwd\":\"D:\\\\clone\\\\amazon-clone\\\\functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2022-10-21T09:20:35.316Z] [runtime-status] [6096] Listening to port: \\?\pipe\fire_emu_2d9b1373dba5d3b4 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6096] Listening to port: \\\\?\\pipe\\fire_emu_2d9b1373dba5d3b4"}}
[debug] [2022-10-21T09:20:35.358Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2022-10-21T09:20:35.358Z] [worker-us-central1-api-041754dd-704e-49de-adb8-860af5fb0eb6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-041754dd-704e-49de-adb8-860af5fb0eb6]: BUSY"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[info] >  payment request recived!! for this amount  undefined {"user":"payment request recived!! for this amount  undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment request recived!! for this amount  undefined"}}
[info] >  D:\clone\amazon-clone\functions\index.js:35 {"user":"D:\\clone\\amazon-clone\\functions\\index.js:35\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m D:\\clone\\amazon-clone\\functions\\index.js:35\r"}}
[info] >      const paymentIntent = await stripe.paymentIntent.create({ {"user":"    const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                       ^ {"user":"                                                     ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                      ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at D:\clone\amazon-clone\functions\index.js:35:54 {"user":"    at D:\\clone\\amazon-clone\\functions\\index.js:35:54\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\index.js:35:54\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (D:\clone\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (D:\clone\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (D:\clone\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:110:7) {"user":"    at jsonParser (D:\\clone\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (D:\\clone\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\r"}}
[info] >      at Layer.handle [as handle_request] (D:\clone\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (D:\\clone\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[debug] [2022-10-21T09:20:35.390Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-21T09:20:35.414Z] [worker-us-central1-api-041754dd-704e-49de-adb8-860af5fb0eb6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-041754dd-704e-49de-adb8-860af5fb0eb6]: exited"}}
[debug] [2022-10-21T09:20:35.415Z] [worker-us-central1-api-041754dd-704e-49de-adb8-860af5fb0eb6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-041754dd-704e-49de-adb8-860af5fb0eb6]: FINISHED"}}
[debug] [2022-10-21T09:21:36.749Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T09:21:37.762Z] Validating nodejs source
[debug] [2022-10-21T09:21:41.702Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T09:21:41.702Z] Building nodejs source
[debug] [2022-10-21T09:21:41.703Z] Analyzing nodejs backend spec
[debug] [2022-10-21T09:21:41.704Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T09:21:41.721Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T09:21:42.275Z] Serving at port 9005

[debug] [2022-10-21T09:21:42.704Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T09:21:42.714Z] shutdown requested via /__/quitquitquit

[debug] [2022-10-21T09:21:42.734Z] Validating nodejs source
[debug] [2022-10-21T09:21:47.695Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T09:21:47.696Z] Building nodejs source
[debug] [2022-10-21T09:21:47.696Z] Analyzing nodejs backend spec
[debug] [2022-10-21T09:21:47.698Z] Could not find functions.yaml. Must use http discovery
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T09:21:48.154Z] Serving at port 9005

[debug] [2022-10-21T09:21:48.529Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T09:21:48.535Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T09:25:12.144Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T09:25:13.152Z] Validating nodejs source
[debug] [2022-10-21T09:25:18.591Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T09:25:18.591Z] Building nodejs source
[debug] [2022-10-21T09:25:18.591Z] Analyzing nodejs backend spec
[debug] [2022-10-21T09:25:18.591Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T09:25:19.017Z] Serving at port 9005

[debug] [2022-10-21T09:25:19.507Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T09:25:19.513Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2022-10-21T09:29:28.706Z] File D:\clone\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\clone\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2022-10-21T09:29:29.716Z] Validating nodejs source
[debug] [2022-10-21T09:29:33.886Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.1",
    "stripe": "^10.14.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-21T09:29:33.887Z] Building nodejs source
[debug] [2022-10-21T09:29:33.887Z] Analyzing nodejs backend spec
[debug] [2022-10-21T09:29:33.888Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-21T09:29:34.309Z] Serving at port 9005

[debug] [2022-10-21T09:29:34.741Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-21T09:29:34.749Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
